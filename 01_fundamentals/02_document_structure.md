# 02: Document Structure

The structure of a LaTeX document is defined by its **preamble**, where global settings are configured, and its **body**, where content is organized hierarchically.

---

## The Preamble

The **preamble** is everything before the `document` environment. It is used to define the document type, load external packages that add new features, and set metadata like the title and author.

- `\documentclass[<options>]{<class>}`: The first command in any document. It specifies the document type and global options.

  | `class`   | Purpose                             |
  | --------- | ----------------------------------- |
  | `article` | For short documents.                |
  | `report`  | For longer documents with chapters. |
  | `book`    | For books.                          |
  | `letter`  | For writing letters.                |

  | `options`                | Description                                                |
  | ------------------------ | ---------------------------------------------------------- |
  | `10pt`, `11pt`, `12pt`   | Sets the base font size for the document.                  |
  | `a4paper`, `letterpaper` | Sets the paper size.                                       |
  | `landscape`              | Sets the page orientation to landscape.                    |
  | `oneside`, `twoside`     | Sets the layout for single-sided or double-sided printing. |
  | `twocolumn`              | Typesets the document in two columns.                      |

- `\usepackage[<options>]{<package>}`: Loads an external package to extend LaTeX's capabilities. 

- `\title{<text>}, \author{<text>}, \date{<text>}`: A set of commands that store the document's metadata. The `\date` command can be given a specific date or set to `\today` to use the current compilation date. The `\maketitle` command must be placed in the document body to typeset the metadata.

```latex
% ----- Preamble -----
\documentclass[12pt, a4paper]{article}
\usepackage{amsmath} % Example: Loads package for advanced math

% Define metadata
\title{A Study of Document Structure}
\author{A. N. Author}
\date{\today}

\begin{document}
% ----- Document Body -----

\maketitle % Renders the title block

The document content follows the title.

\end{document}
```

---

## Customizing the Title (`titling` package)

The `titling` package offers detailed control over the layout of the title block generated by `\maketitle`.

- `\pretitle{<text>}`, `\posttitle{<text>}`: Inserts code before and after the title.

- `\preauthor{<text>}`, `\postauthor{<text>}`: Inserts code before and after the author.

- `\predate{<text>}`, `\postdate{<text>}`: Inserts code before and after the date.

```latex
\documentclass{article}
\usepackage{titling}

% Define the title, author, and date
\title{A Custom Title}
\author{A. N. Author}
\date{\today}

% Customize the layout of \maketitle
\pretitle{\begin{center}\LARGE\bfseries}
\posttitle{\end{center}\vspace{0.5em}}

\preauthor{\begin{center}\large}
\postauthor{\end{center}\vspace{0.5em}}

\predate{\begin{center}\large}
\postdate{\end{center}\hrule}

\begin{document}

\maketitle % Now renders the custom title block

\section{Introduction}
The title block above has been redesigned using the \texttt{titling} package.

\end{document}
```

---

## Structuring Content

The **document body**, enclosed by the `document` environment, contains all visible content. This content is organized hierarchically with **sectioning commands**.

- `document` **environment**: Encloses all visible content within the document.

- `\part{<title>}`: The highest-level heading.

- `\chapter{<title>}`: Starts a new chapter (in `report` and `book` classes).

- `\section{<title>}`, `\subsection{<title>}`, `\subsubsection{<title>}`: Hierarchical section headings that are automatically numbered. Adding an asterisk (`*`) to a command name (e.g., `\section*{...}`) creates an unnumbered heading.
  
- `\paragraph{<title>}`, `\subparagraph{<title>}`: The lowest-level headings, which are displayed inline with the text that follows them.

- `\appendix`: Marks the start of the appendices. Subsequent sectioning commands are labeled with letters (`A`, `B`, `C`, etc.) instead of numbers.

- `\setcounter{secnumdepth}{<level>}`: Sets the maximum depth for numbered section headings. In the `article` class, the default value is 3, meaning only sections up to `\subsubsection` are numbered.
  
  | `level` | Deepest Numbered Level |
  | :-----: | ---------------------- |
  |    0    | `\part`                |
  |    1    | `\section`             |
  |    2    | `\subsection`          |
  |    3    | `\subsubsection`       |
  |    4    | `\paragraph`           |
  |    5    | `\subparagraph`        |

```latex
\documentclass{article}

\begin{document}

\part{Main Topics}

\section{Introduction} % 1
This is the first main section.

\subsection{Background} % 1.1
A subsection within the Introduction.

\subsubsection{Historical Context} % 1.1.1
A subsection within Background.

\paragraph{Key Figures}
Text begins on the same line as the title.

\subparagraph{Secondary Contributors}
Nested under the paragraph heading.

\section*{Acknowledgments} % Unnumbered
This section is not numbered because of the asterisk.

\appendix

\section{Supplemental Details} % A
More information goes here.

\end{document}
```

---

## Table of Contents

LaTeX can automatically generate a table of contents based on the document's sectioning commands. This process requires at least two compilations: first to gather headings, then to render the table.

- `\tableofcontents`: Inserts the table of contents at its location.

- `\setcounter{tocdepth}{<level>}`: Controls the depth of section levels shown in the TOC.

- `\listoffigures`, `\listoftables`: Generates a list of all figures or tables that have captions.

- `\addcontentsline{<list>}{<level>}{<title>}`: Manually adds an entry to the specified list (`toc` for Table of Contents, `lof` for List of Figures, `lot` for List of Tables).

```latex
\documentclass{article}

\begin{document}

\tableofcontents
\newpage

\section{Main Body}
This section will appear in the ToC.

\section*{Acknowledgments} % Unnumbered; not listed in the ToC by default
\addcontentsline{toc}{section}{Acknowledgments} % Manually adds the entry to the ToC
This section is unnumbered but will now appear in the ToC.

\end{document}
```

---

## Managing Large Projects

For large projects, the content can be split into multiple `.tex` files. These external files are then brought into a main "root" file.

- `\input{<filename>}`: Directly inserts the content of another file (`filename.tex`) at the specified location. The external file should not contain its own preamble.

- `\include{<filename>}`: Inserts the content of another file on a new page. This command is primarily used for major divisions like chapters.

- `\includeonly{<file1>, <file2>, ...>}`: Tells LaTeX to only compile the specified files from `\include` commands, speeding up compilation.

```latex
% ----- root.tex (Main File) -----
\documentclass{report}

\includeonly{chapter1} % Only compile chapter1.tex

\begin{document}

\input{introduction} % Inserts introduction.tex here.
\include{chapter1}   % Inserts chapter1.tex on a new page.
\include{chapter2}   % Skipped because it's not listed in \includeonly.

\end{document}

% ----- introduction.tex (External File) -----
\section{Introduction}
This is the introduction.


% ----- chapter1.tex (External File) -----
% This file contains the first chapter.
\chapter{First Chapter}
Content for the first chapter...
```
